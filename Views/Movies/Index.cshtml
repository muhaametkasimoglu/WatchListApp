@model IEnumerable<WatchlistApp.Models.Movie>

@{
    ViewData["Title"] = "Watchlist";

    var total = Model.Count();
    var watched = Model.Count(m => m.IsWatched);
    var toWatch = total - watched;
}

<div class="page-root">
    
    <section class="hero-panel mb-3">
        <div>
            <div class="hero-pill">
                <span class="hero-pill-dot"></span>
                <span>KiÅŸisel izleme listesi</span>
            </div>
            <h1 class="hero-main-title">Film & Dizi Watchlist'in</h1>
            <p class="hero-subtitle">
                Ä°zlediÄŸin ve izlemeyi planladÄ±ÄŸÄ±n tÃ¼m filmleri ve dizileri tek bir yerde topla.
                SaÄŸdaki kÃ¼Ã§Ã¼k kartlardan durumuna hÄ±zlÄ±ca bak.
            </p>
        </div>
        <div class="hero-stats">
            <div class="stat-row">
                <div class="stat-card">
                    <div class="stat-label">Toplam kayÄ±t</div>
                    <div class="stat-value">@total</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Ä°zlenen</div>
                    <div class="stat-value stat-pill-success">@watched</div>
                </div>
            </div>
            <div class="stat-row">
                <div class="stat-card">
                    <div class="stat-label">Ä°zlenecek</div>
                    <div class="stat-value stat-pill-warn">@toWatch</div>
                </div>
            </div>
        </div>
    </section>

    
    <section class="content-panel">
        @if (!Model.Any())
        {
            <div class="empty-state">
                <p>HenÃ¼z watchlistâ€™inde kayÄ±t yok.</p>
                <p class="mb-0">Ãœst menÃ¼den <strong>â€œ+ Yeni KayÄ±tâ€</strong> butonuna tÄ±klayÄ±p ilk filmini ekleyebilirsin ğŸ¬</p>
            </div>
        }
        else
        {
            <div class="movie-grid">
                @foreach (var movie in Model)
                {
                    <div class="movie-card @(movie.IsWatched ? "watched" : "not-watched")">
                        <div class="movie-card-header">
                            <h3 class="movie-title">@movie.Title</h3>
                            @if (movie.IsWatched)
                            {
                                <span class="badge watched-badge">Ä°zlendi</span>
                            }
                            else
                            {
                                <span class="badge notwatched-badge">Ä°zlenecek</span>
                            }
                        </div>

                        <div class="movie-card-body">
                            <p class="movie-meta">
                                <span class="movie-label">TÃ¼r</span>
                                <span>@(string.IsNullOrWhiteSpace(movie.Genre) ? "-" : movie.Genre)</span>
                            </p>

                            <p class="movie-meta">
                                <span class="movie-label">YÄ±l</span>
                                <span>@(movie.ReleaseYear?.ToString() ?? "-")</span>
                            </p>

                            <p class="movie-meta">
                                <span class="movie-label">Puan</span>
                                <span>@(movie.Rating?.ToString() ?? "-") / 10</span>
                            </p>
                        </div>

                        <div class="movie-card-footer">
                            <a asp-action="Edit" asp-route-id="@movie.Id" class="btn btn-sm btn-outline-light">
                                DÃ¼zenle
                            </a>
                            <a asp-action="Delete" asp-route-id="@movie.Id" class="btn btn-sm btn-outline-danger">
                                Sil
                            </a>
                        </div>
                    </div>
                }
            </div>
        }
    </section>
</div>
